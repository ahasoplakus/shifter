[
  {
    "objectID": "shift.html",
    "href": "shift.html",
    "title": "Creating a Shift Table in R",
    "section": "",
    "text": "The workflow below shows a step-by-step programming approach to create Laboratory Shift Tables using the {tidyverse} suite for data processing, and {gt} to create the desired Shift Table layout.",
    "crumbs": [
      "Creating a Shift Table in R"
    ]
  },
  {
    "objectID": "shift.html#required-packages",
    "href": "shift.html#required-packages",
    "title": "Creating a Shift Table in R",
    "section": "Required Packages",
    "text": "Required Packages\n\n\nCode\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(tidyr))\nsuppressPackageStartupMessages(library(rlang))\nsuppressPackageStartupMessages(library(purrr))\nsuppressPackageStartupMessages(library(stringr))\nsuppressPackageStartupMessages(library(gt))\nsuppressPackageStartupMessages(library(here))\n\nwalk(list.files(here(\"R\"), pattern = \".R\", full.names = TRUE), source)",
    "crumbs": [
      "Creating a Shift Table in R"
    ]
  },
  {
    "objectID": "shift.html#data-used-for-analysis",
    "href": "shift.html#data-used-for-analysis",
    "title": "Creating a Shift Table in R",
    "section": "Data used for Analysis",
    "text": "Data used for Analysis\nWe will make use of the adsl and adlb test ADaM datasets from the {pharmaverseadam} R package for analysis.\n\nADSLADLB\n\n\nADSL is the analysis dataset for subject level\n\n\nCode\nadsl &lt;- pharmaverseadam::adsl\n\n\n\n\n\n\n\n\n\n\nADLB is the analysis dataset for Laboratory Records of subjects\n\n\nCode\nadlb &lt;- pharmaverseadam::adlb",
    "crumbs": [
      "Creating a Shift Table in R"
    ]
  },
  {
    "objectID": "shift.html#programming-steps",
    "href": "shift.html#programming-steps",
    "title": "Creating a Shift Table in R",
    "section": "Programming Steps",
    "text": "Programming Steps\n\n1. Calculating BIG N (Treatment Totals)\n\nKeep only safety subjects (SAFFL == 'Y') in adsl\nCount number of subjects participating in each treatment group (TRT01A)\n\n\n\nCode\nadsl_bign &lt;- adsl |&gt;\n  na_to_missing() |&gt;\n  filter(.data$SAFFL == \"Y\") |&gt;\n  select(all_of(c(\"USUBJID\", \"TRT01A\"))) |&gt;\n  add_count(.data$TRT01A, name = \"TRT_N\")\n\n\n\n\n\n\n\n\nGet distinct treatment totals to\n\nDisplay total number of subjects in each treatment group at top level of the report\nUse as denominator to calculate count percentages in the final table\n\n\n\nCode\ndenom_N &lt;-\n  map(set_names(unique(adsl_bign[[\"TRT01A\"]])), ~ get_trt_denom(adsl_bign, \"TRT01A\", .x))\ndenom_N\n\n\n$Placebo\n[1] 86\n\n$`Xanomeline High Dose`\n[1] 72\n\n$`Xanomeline Low Dose`\n[1] 96\n\n\n\n\n2. Preprocessing Lab Records\n\nMerge adsl_bign to adlb to add TRT_N\nFilter out missing values in Baseline Reference Range Indicator (BNRIND), Analysis Reference Range Indicator (ANRIND) and Analysis Value (AVAL)\nSubset the resulting data for subjects with post-does records where analysis flag is equal to 'Y'\nSubset data to keep lab records within the desired time period (eg. Week 2-Week 6)\nAdd BIG N to treatment labels by concatenating TRT_N with TRT01A\n\n\n\nCode\nadlb_prep &lt;- adlb |&gt;\n  na_to_missing() |&gt;\n  mutate(across(all_of(c(\"BNRIND\", \"ANRIND\")), str_to_title)) |&gt;\n  left_join(adsl_bign) |&gt;\n  filter(\n    .data$BNRIND != \"&lt;Missing&gt;\",\n    .data$ANRIND != \"&lt;Missing&gt;\",\n    !is.na(.data$AVAL),\n    .data$ANL01FL == \"Y\",\n    .data$AVISIT %in% c(\"Week 2\", \"Week 4\", \"Week 6\")\n  ) |&gt;\n  mutate(TRT_VAR = paste0(.data$TRT01A, \"&lt;br&gt;(N=\", .data$TRT_N, \")\")) |&gt;\n  select(-TRT_N)\n\n\n Subset adlb_prep to keep only Hemoglobin records \n\n\nCode\nadlb_hgb &lt;- adlb_prep |&gt;\n  filter(.data$PARAMCD == \"HGB\")\n\n\n\n\n\n\n\n\n\n\n3. Creating a dummy dataset\nCreate a dummy dataset that contains all possible combination of BNRIND and ANRIND values by Treatment.\n\n\nCode\ncomb_base_pbase &lt;- expand_grid(\n  TRT_VAR = unique(adlb_hgb[[\"TRT_VAR\"]]),\n  AVISIT = intersect(\n    levels(as.factor(adlb_hgb[[\"AVISIT\"]])),\n    unique(adlb_hgb[[\"AVISIT\"]])\n  ),\n  BNRIND = as.factor(c(\"Low\", \"Normal\", \"High\", \"Total\"))\n) |&gt;\n  cross_join(tibble(ANRIND = as.factor(c(\"Low\", \"Normal\", \"High\"))))\n\n\n\n\n\n\n\n\n\n\n4. Getting Counts per Analysis Visit\n\n\nCode\nshift_counts &lt;- adlb_hgb |&gt;\n  bind_rows(mutate(adlb_hgb, BNRIND = \"Total\")) |&gt;\n  group_by(!!!syms(c(\"TRT_VAR\", \"AVISITN\", \"ANRIND\", \"BNRIND\"))) |&gt;\n  count(.data[[\"AVISIT\"]], name = \"CNT\") |&gt;\n  ungroup() |&gt;\n  # merge dummy dataset to get all combinations of `ANRIND` and `BNRIND` values\n  full_join(comb_base_pbase, by = c(\"TRT_VAR\", \"AVISIT\", \"BNRIND\", \"ANRIND\")) |&gt;\n  mutate(across(\"CNT\", ~ replace_na(.x, 0))) |&gt;\n  arrange(\n    .data[[\"TRT_VAR\"]],\n    factor(.data[[\"BNRIND\"]], levels = c(\"Low\", \"Normal\", \"High\", \"Total\")),\n    factor(.data[[\"ANRIND\"]], levels = c(\"Low\", \"Normal\", \"High\", \"Total\"))\n  )\n\n\n\n\n\n\n\n\n\n\n5. Reshaping Data and adding Total Counts\n\n\nCode\nshift_wide &lt;- shift_counts |&gt;\n  pivot_wider(\n    id_cols = all_of(c(\"AVISIT\", \"ANRIND\")),\n    names_from = all_of(c(\"TRT_VAR\", \"BNRIND\")),\n    values_from = \"CNT\",\n    names_sep = \"&lt;br&gt;Baseline&lt;br&gt;n (%)^\"\n  )\n\npost_base_grade_totals &lt;- shift_wide |&gt;\n  summarize(across(where(is.numeric), sum), .by = all_of(\"AVISIT\")) |&gt;\n  mutate(ANRIND = \"Total\")\n\nvisit_levels &lt;-\n  arrange(filter(shift_counts, !is.na(.data$AVISITN)), by = .data$AVISITN) |&gt;\n  pull(.data$AVISIT) |&gt;\n  unique()\n\nshift_final &lt;- shift_wide |&gt;\n  bind_rows(post_base_grade_totals) |&gt;\n  arrange(factor(.data$AVISIT, levels = visit_levels))\n\n\nAn alternate and tidier approach would be to create a function say count_shifts() to cover Steps 3-5\n\n\nCode\nshift_final &lt;-\n  count_shifts(\n    bds_dataset = adlb_hgb,\n    trt_var = exprs(TRT_VAR),\n    analysis_grade_var = exprs(ANRIND),\n    base_grade_var = exprs(BNRIND),\n    grade_var_order = exprs(Low, Normal, High),\n    visit_var = exprs(AVISIT, AVISITN)\n  )\n\n\n\n\n\n\n\n\n\n\n6. Displaying Final Table with {gt}\n\nSingle Parameter (Hemoglobin)Multiple Parameters\n\n\n\n\nCode\nout &lt;-\n  shift_final |&gt;\n  gt(groupname_col = \"AVISIT\", row_group_as_column = TRUE) |&gt;\n  cols_label_with(columns = contains(\"ANRIND\"), \\(x) md(\"Reference&lt;br&gt;Range\")) |&gt;\n  tab_spanner_delim(delim = \"^\") |&gt;\n  text_transform(fn = \\(x) map(x, \\(y) md(y)), locations = cells_column_spanners()) |&gt;\n  text_transform(\n    fn = \\(x) add_pct(x, denom_N[[1]], 1),\n    locations = cells_body(columns = 3:6)\n  ) |&gt;\n  text_transform(\n    fn = \\(x) add_pct(x, denom_N[[2]], 1),\n    locations = cells_body(columns = 7:10)\n  ) |&gt;\n  text_transform(\n    fn = \\(x) add_pct(x, denom_N[[3]], 1),\n    locations = cells_body(columns = 11:14)\n  ) |&gt;\n  tab_stubhead(md(\"Analysis Visit\")) |&gt;\n  tab_footnote(footnote = \"This is a footnote\") |&gt;\n  tab_header(\n    title = md(\"Protocol: xxxx&lt;br&gt;&lt;br&gt;Table x.x&lt;br&gt;Shift Table of Lab Hematology&lt;br&gt;(Full Safety Analysis Set)\"), # nolint\n    subtitle = paste0(\"Parameter = \", unique(pull(adlb_hgb, \"PARAM\")))\n  ) |&gt;\n  tab_style(\n    style = cell_text(weight = \"bold\"),\n    locations = cells_body(columns = 2)\n  ) |&gt;\n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_body(columns = -c(1, 2))\n  ) |&gt;\n  tab_style(\n    style = cell_text(align = \"center\"),\n    locations = cells_column_labels(columns = -c(1, 2))\n  ) |&gt;\n  tab_options(\n    table.background.color = \"white\",\n    table.font.names = \"monospace-slab-serif\",\n    row_group.font.weight = \"bold\",\n    column_labels.font.weight = \"bold\",\n    heading.title.font.weight = \"bold\",\n    heading.title.font.size = \"20px\",\n    heading.padding = \"10px\",\n    heading.subtitle.font.size = \"14px\"\n  ) |&gt;\n  opt_css(\n    css = \"\n    .gt_heading {\n      border-top-style: hidden !important;\n    }\n    .gt_table {\n      width: max-content !important;\n    }\n    .gt_subtitle {\n      text-align: left !important;\n      color: gray !important;\n    }\n    \"\n  )\nout\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nProtocol: xxxx\n\nTable x.x\nShift Table of Lab Hematology\n(Full Safety Analysis Set)\n\n\nParameter = Hemoglobin (mmol/L)\n\n\nAnalysis Visit\nReference\nRange\nPlacebo\n(N=86)\nBaseline\nn (%)\nXanomeline High Dose\n(N=72)\nBaseline\nn (%)\nXanomeline Low Dose\n(N=96)\nBaseline\nn (%)\n\n\nLow\nNormal\nHigh\nTotal\nLow\nNormal\nHigh\nTotal\nLow\nNormal\nHigh\nTotal\n\n\n\n\nWeek 2\nLow\n4 (4.7%)\n2 (2.3%)\n0\n6 (7%)\n1 (1.4%)\n3 (4.2%)\n0\n4 (5.6%)\n4 (4.2%)\n0\n0\n4 (4.2%)\n\n\nNormal\n3 (3.5%)\n73 (84.9%)\n0\n76 (88.4%)\n0\n65 (90.3%)\n2 (2.8%)\n67 (93.1%)\n1 (1%)\n67 (69.8%)\n1 (1%)\n69 (71.9%)\n\n\nHigh\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nTotal\n7 (8.1%)\n75 (87.2%)\n0\n82 (95.3%)\n1 (1.4%)\n68 (94.4%)\n2 (2.8%)\n71 (98.6%)\n5 (5.2%)\n67 (69.8%)\n1 (1%)\n73 (76%)\n\n\nWeek 4\nLow\n4 (4.7%)\n2 (2.3%)\n0\n6 (7%)\n1 (1.4%)\n0\n0\n1 (1.4%)\n4 (4.2%)\n2 (2.1%)\n0\n6 (6.2%)\n\n\nNormal\n1 (1.2%)\n68 (79.1%)\n0\n69 (80.2%)\n0\n63 (87.5%)\n1 (1.4%)\n64 (88.9%)\n1 (1%)\n57 (59.4%)\n0\n58 (60.4%)\n\n\nHigh\n0\n0\n0\n0\n0\n1 (1.4%)\n0\n1 (1.4%)\n0\n0\n0\n0\n\n\nTotal\n5 (5.8%)\n70 (81.4%)\n0\n75 (87.2%)\n1 (1.4%)\n64 (88.9%)\n1 (1.4%)\n66 (91.7%)\n5 (5.2%)\n59 (61.5%)\n0\n64 (66.7%)\n\n\nWeek 6\nLow\n3 (3.5%)\n1 (1.2%)\n0\n4 (4.7%)\n0\n1 (1.4%)\n0\n1 (1.4%)\n4 (4.2%)\n3 (3.1%)\n0\n7 (7.3%)\n\n\nNormal\n2 (2.3%)\n64 (74.4%)\n0\n66 (76.7%)\n0\n51 (70.8%)\n1 (1.4%)\n52 (72.2%)\n1 (1%)\n50 (52.1%)\n0\n51 (53.1%)\n\n\nHigh\n0\n1 (1.2%)\n0\n1 (1.2%)\n0\n1 (1.4%)\n0\n1 (1.4%)\n0\n0\n0\n0\n\n\nTotal\n5 (5.8%)\n66 (76.7%)\n0\n71 (82.6%)\n0\n53 (73.6%)\n1 (1.4%)\n54 (75%)\n5 (5.2%)\n53 (55.2%)\n0\n58 (60.4%)\n\n\n\nThis is a footnote\n\n\n\n\n\n\n\n\n\n\n\n\nSplit adlb_prep by multiple parameters.\nMap over count_shifts() on the data split by parameters\nCreate a function std_shift_display() to combine the table display options and map it over on the list of output retrieved from the provious step\n\n\n\nCode\nadlb_multi &lt;- adlb_prep |&gt;\n  filter(toupper(.data$PARAMCD) %in% c(\"PLAT\", \"HCT\", \"MCH\")) |&gt;\n  group_nest(.data$PARAM)\n\nshift_out &lt;- map(adlb_multi$data, \\(x) {\n  count_shifts(\n    bds_dataset = x,\n    trt_var = exprs(TRT_VAR),\n    analysis_grade_var = exprs(ANRIND),\n    base_grade_var = exprs(BNRIND),\n    grade_var_order = exprs(Low, Normal, High),\n    visit_var = exprs(AVISIT, AVISITN)\n  )\n}) |&gt;\n  set_names(adlb_multi$PARAM)\n\nlist_out &lt;-\n  map(names(shift_out), \\(x) {\n    std_shift_display(\n      shift_out[[x]],\n      param = x,\n      group_col = \"AVISIT\",\n      trt_denom = denom_N,\n      title = \"Protocol: CDISCPILOT01&lt;br&gt;&lt;br&gt;Table x.x&lt;br&gt;Shift Table of Lab Hematology&lt;br&gt;(Full Safety Analysis Set)\",\n      footnote = \"Add footnote here\",\n      stub_label = \"Analysis Visit\"\n    )\n  })\n\n\n\n\n\n\n\n\nProtocol: CDISCPILOT01Table x.xShift Table of Lab Hematology(Full Safety Analysis Set)\n\n\n\n\nParameter = Ery. Mean Corpuscular Hemoglobin (fmol(Fe))\n\n\n\n\nAnalysis Visit\n\n\nReferenceRange\n\n\nPlacebo(N=86)Baselinen (%)\n\n\nXanomeline High Dose(N=72)Baselinen (%)\n\n\nXanomeline Low Dose(N=96)Baselinen (%)\n\n\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\n\n\n\n\nWeek 2\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nNormal\n\n\n0\n\n\n78 (90.7%)\n\n\n2 (2.3%)\n\n\n80 (93%)\n\n\n0\n\n\n63 (87.5%)\n\n\n2 (2.8%)\n\n\n65 (90.3%)\n\n\n0\n\n\n68 (70.8%)\n\n\n2 (2.1%)\n\n\n70 (72.9%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n2 (2.3%)\n\n\n2 (2.3%)\n\n\n0\n\n\n0\n\n\n5 (6.9%)\n\n\n5 (6.9%)\n\n\n0\n\n\n2 (2.1%)\n\n\n1 (1%)\n\n\n3 (3.1%)\n\n\n\n\nTotal\n\n\n0\n\n\n78 (90.7%)\n\n\n4 (4.7%)\n\n\n82 (95.3%)\n\n\n1 (1.4%)\n\n\n63 (87.5%)\n\n\n7 (9.7%)\n\n\n71 (98.6%)\n\n\n0\n\n\n70 (72.9%)\n\n\n3 (3.1%)\n\n\n73 (76%)\n\n\n\n\nWeek 4\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nNormal\n\n\n0\n\n\n70 (81.4%)\n\n\n1 (1.2%)\n\n\n71 (82.6%)\n\n\n0\n\n\n58 (80.6%)\n\n\n1 (1.4%)\n\n\n59 (81.9%)\n\n\n0\n\n\n60 (62.5%)\n\n\n2 (2.1%)\n\n\n62 (64.6%)\n\n\n\n\nHigh\n\n\n0\n\n\n2 (2.3%)\n\n\n2 (2.3%)\n\n\n4 (4.7%)\n\n\n0\n\n\n0\n\n\n6 (8.3%)\n\n\n6 (8.3%)\n\n\n0\n\n\n1 (1%)\n\n\n1 (1%)\n\n\n2 (2.1%)\n\n\n\n\nTotal\n\n\n0\n\n\n72 (83.7%)\n\n\n3 (3.5%)\n\n\n75 (87.2%)\n\n\n1 (1.4%)\n\n\n58 (80.6%)\n\n\n7 (9.7%)\n\n\n66 (91.7%)\n\n\n0\n\n\n61 (63.5%)\n\n\n3 (3.1%)\n\n\n64 (66.7%)\n\n\n\n\nWeek 6\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nNormal\n\n\n0\n\n\n65 (75.6%)\n\n\n2 (2.3%)\n\n\n67 (77.9%)\n\n\n0\n\n\n47 (65.3%)\n\n\n1 (1.4%)\n\n\n48 (66.7%)\n\n\n0\n\n\n55 (57.3%)\n\n\n2 (2.1%)\n\n\n57 (59.4%)\n\n\n\n\nHigh\n\n\n0\n\n\n2 (2.3%)\n\n\n2 (2.3%)\n\n\n4 (4.7%)\n\n\n0\n\n\n0\n\n\n6 (8.3%)\n\n\n6 (8.3%)\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n1 (1%)\n\n\n\n\nTotal\n\n\n0\n\n\n67 (77.9%)\n\n\n4 (4.7%)\n\n\n71 (82.6%)\n\n\n0\n\n\n47 (65.3%)\n\n\n7 (9.7%)\n\n\n54 (75%)\n\n\n0\n\n\n55 (57.3%)\n\n\n3 (3.1%)\n\n\n58 (60.4%)\n\n\n\n\n\n\nAdd footnote here\n\n\n\n\n\n\n\n\n\n\n\nProtocol: CDISCPILOT01Table x.xShift Table of Lab Hematology(Full Safety Analysis Set)\n\n\n\n\nParameter = Hematocrit (1)\n\n\n\n\nAnalysis Visit\n\n\nReferenceRange\n\n\nPlacebo(N=86)Baselinen (%)\n\n\nXanomeline High Dose(N=72)Baselinen (%)\n\n\nXanomeline Low Dose(N=96)Baselinen (%)\n\n\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\n\n\n\n\nWeek 2\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n1 (1%)\n\n\n2 (2.1%)\n\n\n0\n\n\n3 (3.1%)\n\n\n\n\nNormal\n\n\n3 (3.5%)\n\n\n79 (91.9%)\n\n\n0\n\n\n82 (95.3%)\n\n\n0\n\n\n66 (91.7%)\n\n\n2 (2.8%)\n\n\n68 (94.4%)\n\n\n0\n\n\n67 (69.8%)\n\n\n1 (1%)\n\n\n68 (70.8%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n1 (1%)\n\n\n\n\nTotal\n\n\n3 (3.5%)\n\n\n79 (91.9%)\n\n\n0\n\n\n82 (95.3%)\n\n\n1 (1.4%)\n\n\n67 (93.1%)\n\n\n2 (2.8%)\n\n\n70 (97.2%)\n\n\n1 (1%)\n\n\n69 (71.9%)\n\n\n2 (2.1%)\n\n\n72 (75%)\n\n\n\n\nWeek 4\n\n\nLow\n\n\n3 (3.5%)\n\n\n0\n\n\n0\n\n\n3 (3.5%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n2 (2.1%)\n\n\n0\n\n\n3 (3.1%)\n\n\n\n\nNormal\n\n\n0\n\n\n71 (82.6%)\n\n\n0\n\n\n71 (82.6%)\n\n\n1 (1.4%)\n\n\n61 (84.7%)\n\n\n2 (2.8%)\n\n\n64 (88.9%)\n\n\n1 (1%)\n\n\n58 (60.4%)\n\n\n1 (1%)\n\n\n60 (62.5%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nTotal\n\n\n3 (3.5%)\n\n\n71 (82.6%)\n\n\n0\n\n\n74 (86%)\n\n\n1 (1.4%)\n\n\n62 (86.1%)\n\n\n2 (2.8%)\n\n\n65 (90.3%)\n\n\n2 (2.1%)\n\n\n60 (62.5%)\n\n\n1 (1%)\n\n\n63 (65.6%)\n\n\n\n\nWeek 6\n\n\nLow\n\n\n2 (2.3%)\n\n\n1 (1.2%)\n\n\n0\n\n\n3 (3.5%)\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n1 (1%)\n\n\n1 (1%)\n\n\n0\n\n\n2 (2.1%)\n\n\n\n\nNormal\n\n\n0\n\n\n66 (76.7%)\n\n\n0\n\n\n66 (76.7%)\n\n\n0\n\n\n50 (69.4%)\n\n\n2 (2.8%)\n\n\n52 (72.2%)\n\n\n1 (1%)\n\n\n52 (54.2%)\n\n\n1 (1%)\n\n\n54 (56.2%)\n\n\n\n\nHigh\n\n\n0\n\n\n1 (1.2%)\n\n\n0\n\n\n1 (1.2%)\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nTotal\n\n\n2 (2.3%)\n\n\n68 (79.1%)\n\n\n0\n\n\n70 (81.4%)\n\n\n1 (1.4%)\n\n\n51 (70.8%)\n\n\n2 (2.8%)\n\n\n54 (75%)\n\n\n2 (2.1%)\n\n\n53 (55.2%)\n\n\n1 (1%)\n\n\n56 (58.3%)\n\n\n\n\n\n\nAdd footnote here\n\n\n\n\n\n\n\n\n\n\n\nProtocol: CDISCPILOT01Table x.xShift Table of Lab Hematology(Full Safety Analysis Set)\n\n\n\n\nParameter = Platelet (10^9/L)\n\n\n\n\nAnalysis Visit\n\n\nReferenceRange\n\n\nPlacebo(N=86)Baselinen (%)\n\n\nXanomeline High Dose(N=72)Baselinen (%)\n\n\nXanomeline Low Dose(N=96)Baselinen (%)\n\n\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\nLow\n\n\nNormal\n\n\nHigh\n\n\nTotal\n\n\n\n\n\n\nWeek 2\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n1 (1.4%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nNormal\n\n\n0\n\n\n80 (93%)\n\n\n1 (1.2%)\n\n\n81 (94.2%)\n\n\n0\n\n\n70 (97.2%)\n\n\n0\n\n\n70 (97.2%)\n\n\n1 (1%)\n\n\n66 (68.8%)\n\n\n1 (1%)\n\n\n68 (70.8%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n1 (1.2%)\n\n\n1 (1.2%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n2 (2.1%)\n\n\n0\n\n\n2 (2.1%)\n\n\n\n\nTotal\n\n\n0\n\n\n80 (93%)\n\n\n2 (2.3%)\n\n\n82 (95.3%)\n\n\n1 (1.4%)\n\n\n70 (97.2%)\n\n\n0\n\n\n71 (98.6%)\n\n\n1 (1%)\n\n\n68 (70.8%)\n\n\n1 (1%)\n\n\n70 (72.9%)\n\n\n\n\nWeek 4\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n\n\nNormal\n\n\n0\n\n\n72 (83.7%)\n\n\n0\n\n\n72 (83.7%)\n\n\n0\n\n\n65 (90.3%)\n\n\n0\n\n\n65 (90.3%)\n\n\n0\n\n\n61 (63.5%)\n\n\n1 (1%)\n\n\n62 (64.6%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n2 (2.3%)\n\n\n2 (2.3%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nTotal\n\n\n0\n\n\n72 (83.7%)\n\n\n2 (2.3%)\n\n\n74 (86%)\n\n\n0\n\n\n65 (90.3%)\n\n\n0\n\n\n65 (90.3%)\n\n\n1 (1%)\n\n\n61 (63.5%)\n\n\n1 (1%)\n\n\n63 (65.6%)\n\n\n\n\nWeek 6\n\n\nLow\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n0\n\n\n0\n\n\n1 (1%)\n\n\n\n\nNormal\n\n\n0\n\n\n69 (80.2%)\n\n\n1 (1.2%)\n\n\n70 (81.4%)\n\n\n0\n\n\n53 (73.6%)\n\n\n0\n\n\n53 (73.6%)\n\n\n0\n\n\n56 (58.3%)\n\n\n1 (1%)\n\n\n57 (59.4%)\n\n\n\n\nHigh\n\n\n0\n\n\n0\n\n\n1 (1.2%)\n\n\n1 (1.2%)\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n0\n\n\n\n\nTotal\n\n\n0\n\n\n69 (80.2%)\n\n\n2 (2.3%)\n\n\n71 (82.6%)\n\n\n0\n\n\n53 (73.6%)\n\n\n0\n\n\n53 (73.6%)\n\n\n1 (1%)\n\n\n56 (58.3%)\n\n\n1 (1%)\n\n\n58 (60.4%)\n\n\n\n\n\n\nAdd footnote here",
    "crumbs": [
      "Creating a Shift Table in R"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "References",
    "section": "",
    "text": "About this site\n\n\nCode\n1 + 1\n\n\n[1] 2\n\n\n\n\n\n Back to top",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Tidy Shift Tables in R",
    "section": "",
    "text": "A shift table is a table that displays the number of subjects with low, normal or high records at baseline and post-dose. It represents cross frequencies of baseline values with post-dose values.\n\n\nIt is important to look at the effect of the drug by comparing values at baseline and post –baseline in any clinical trials. Shift Table is one of the analysis approaches suggested in E3 Guidelines to show the number of patients who are low, normal, or high at baseline and then at selected time intervals. It’s easier to figure out any abnormality in data because the layout helps to get the count of subjects at two time points together. Shift tables can be created for any data like labs, vital signs and ECG etc.\nAll safety related data is collected in a clinical trial study for safety analysis. The laboratory data is one of the most important parts of safety analysis in any drug discovery study. The data mapping team and Statistical Programmers in the clinical programming department support the clinical data analysis and reporting process. The data mapping team analyzes and creates SDTM datasets from raw datasets. The Statistical Programming team creates the ADaM datasets and generates reports in a clinical study. ADaM data structure is such that, it has all the necessary variables needed to create reporting code and this makes the job easier for programmers.\nThere are several summary tables commonly used to produce laboratory results. Descriptive statistics, clinical significance, shift tables and toxicity grade summaries are some of the summary tables are some, that are commonly used. The shift table is one of the most frequently requested in a clinical study by statisticians or clinicians. The site that provides the laboratory results usually produces the normal ranges for numeric lab tests. The study team analyzes the lab results based on normal range and then flags or categorizes whether it is low, normal or high.\nThe main purpose of shift tables in any clinical trial is to determine how the categorical result varies from baseline to post-dose.\nFigure 1 represents a Shift Table for Hemoglobin Records showing the number of subjects with low, normal, or high records at baseline and post-dose together.\n\n\n\nFigure 1",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "index.html#what-is-a-shift-table",
    "href": "index.html#what-is-a-shift-table",
    "title": "Tidy Shift Tables in R",
    "section": "",
    "text": "A shift table is a table that displays the number of subjects with low, normal or high records at baseline and post-dose. It represents cross frequencies of baseline values with post-dose values.\n\n\nIt is important to look at the effect of the drug by comparing values at baseline and post –baseline in any clinical trials. Shift Table is one of the analysis approaches suggested in E3 Guidelines to show the number of patients who are low, normal, or high at baseline and then at selected time intervals. It’s easier to figure out any abnormality in data because the layout helps to get the count of subjects at two time points together. Shift tables can be created for any data like labs, vital signs and ECG etc.\nAll safety related data is collected in a clinical trial study for safety analysis. The laboratory data is one of the most important parts of safety analysis in any drug discovery study. The data mapping team and Statistical Programmers in the clinical programming department support the clinical data analysis and reporting process. The data mapping team analyzes and creates SDTM datasets from raw datasets. The Statistical Programming team creates the ADaM datasets and generates reports in a clinical study. ADaM data structure is such that, it has all the necessary variables needed to create reporting code and this makes the job easier for programmers.\nThere are several summary tables commonly used to produce laboratory results. Descriptive statistics, clinical significance, shift tables and toxicity grade summaries are some of the summary tables are some, that are commonly used. The shift table is one of the most frequently requested in a clinical study by statisticians or clinicians. The site that provides the laboratory results usually produces the normal ranges for numeric lab tests. The study team analyzes the lab results based on normal range and then flags or categorizes whether it is low, normal or high.\nThe main purpose of shift tables in any clinical trial is to determine how the categorical result varies from baseline to post-dose.\nFigure 1 represents a Shift Table for Hemoglobin Records showing the number of subjects with low, normal, or high records at baseline and post-dose together.\n\n\n\nFigure 1",
    "crumbs": [
      "Introduction"
    ]
  }
]