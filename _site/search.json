[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "shiftR",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(tidyr))\nsuppressPackageStartupMessages(library(rlang))\nsuppressPackageStartupMessages(library(purrr))\nsuppressPackageStartupMessages(library(stringr))\n\nwalk(list.files(here::here(\"R\"), pattern = \".R\", full.names = TRUE), source)\n\nadsl &lt;- pharmaverseadam::adsl |&gt; na_to_missing()\nadlb &lt;- pharmaverseadam::adlb |&gt; na_to_missing()\n\nadlb &lt;- adlb |&gt;\n  modify_at(\n    c(\"BNRIND\", \"ANRIND\"),\n    \\(x) case_match(\n      x,\n      \"H\" ~ \"High\",\n      \"L\" ~ \"Low\",\n      \"N\" ~ \"Normal\",\n      .default = str_to_title(x)\n    )\n  )\n\nadsl_bign &lt;- select(adsl, all_of(c(\"USUBJID\", \"TRT01A\"))) |&gt;\n  add_count(.data$TRT01A, name = \"TRT_N\")\n# add `N` to the BDS dataset\nbds_df &lt;- adlb |&gt;\n  filter(!is.na(.data$AVAL), .data$BNRIND != \"&lt;Missing&gt;\", .data$ANRIND != \"&lt;Missing&gt;\") |&gt;\n  left_join(adsl_bign) |&gt;\n  mutate(trt_var = paste0(.data$TRT01A, \"&lt;br&gt;(N=\", TRT_N, \")\")) |&gt;\n  select(-TRT_N) |&gt;\n  filter_if(expr(PARCAT1 == \"URINALYSIS\"))\n\nJoining with `by = join_by(USUBJID, TRT01A)`\n\ntab_spanners &lt;- unique(bds_df$trt_var)\ndenom &lt;- get_N_from_labels(tab_spanners, \"N=\")\n\n\nrep &lt;-\n  build_shift_table(\n    bds_dataset = bds_df,\n    trt_var = exprs(trt_var),\n    analysis_grade_var = exprs(ANRIND),\n    base_grade_var = exprs(BNRIND),\n    grade_var_order = exprs(Low, Normal, High)\n  )\n\nrep |&gt;\n  gt::gt(groupname_col = \"PARAM\", row_group_as_column = TRUE) |&gt;\n  gt::cols_label(BNRIND = gt::md(\"Reference Range&lt;br&gt;Indicator\")) |&gt;\n  gt::cols_label_with(columns = contains(\"&lt;-&gt;\"), \\(x) custom_split(x, \"&lt;-&gt;\")) |&gt;\n  gt::tab_spanner(columns = contains(tab_spanners[1]), label = gt::md(tab_spanners[1])) |&gt;\n  gt::tab_spanner(columns = contains(tab_spanners[2]), label = gt::md(tab_spanners[2])) |&gt;\n  gt::tab_spanner(columns = contains(tab_spanners[3]), label = gt::md(tab_spanners[3])) |&gt;\n  gt::data_color(method = \"numeric\", palette = gt_pal(), columns = c(3, 5, 7, 9, 11, 13)) |&gt;\n  gt::text_transform(\n    fn = \\(x) add_pct(x, denom[1], 2),\n    locations = gt::cells_body(columns = contains(tab_spanners[1]))\n  ) |&gt;\n  gt::text_transform(\n    fn = \\(x) add_pct(x, denom[2], 2),\n    locations = gt::cells_body(columns = contains(tab_spanners[2]))\n  ) |&gt;\n  gt::text_transform(\n    fn = \\(x) add_pct(x, denom[3], 2),\n    locations = gt::cells_body(columns = contains(tab_spanners[3]))\n  ) |&gt;\n  gt::tab_stubhead(label = \"Parameter\") |&gt;\n  gt::tab_source_note(source_note = \"This is a source note.\") |&gt;\n  gt::tab_footnote(\n    footnote = \"This is a footnote.\",\n    locations = gt::cells_body(columns = 1, rows = 1)\n  ) |&gt;\n  gt::tab_header(\n    title = \"The title of the table\",\n    subtitle = \"The table's subtitle\"\n  ) |&gt;\n  gt::opt_table_lines()\n\n\n\n\n\n  \n    \n      The title of the table\n    \n    \n      The table's subtitle\n    \n    \n      Parameter\n      Reference RangeIndicator\n      \n        Placebo(N=86)\n      \n      \n        Xanomeline High Dose(N=72)\n      \n      \n        Xanomeline Low Dose(N=96)\n      \n    \n    \n      Low\n      Normal\n      High\n      Total\n      Low\n      Normal\n      High\n      Total\n      Low\n      Normal\n      High\n      Total\n    \n  \n  \n    Specific Gravity\nLow\n0 (0%)\n1 (1.16%)\n0 (0%)\n1 (1.16%)\n0 (0%)\n2 (2.78%)\n0 (0%)\n2 (2.78%)\n0 (0%)\n2 (2.08%)\n0 (0%)\n2 (2.08%)\n    Normal\n0 (0%)\n78 (90.7%)\n3 (3.49%)\n81 (94.19%)\n0 (0%)\n65 (90.28%)\n2 (2.78%)\n67 (93.06%)\n0 (0%)\n87 (90.62%)\n5 (5.21%)\n92 (95.83%)\n    High\n0 (0%)\n0 (0%)\n3 (3.49%)\n3 (3.49%)\n0 (0%)\n0 (0%)\n3 (4.17%)\n3 (4.17%)\n0 (0%)\n0 (0%)\n1 (1.04%)\n1 (1.04%)\n    Total\n0 (0%)\n79 (91.86%)\n6 (6.98%)\n85 (98.84%)\n0 (0%)\n67 (93.06%)\n5 (6.94%)\n72 (100%)\n0 (0%)\n89 (92.71%)\n6 (6.25%)\n95 (98.96%)\n    pH\nLow\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n    Normal\n0 (0%)\n85 (98.84%)\n0 (0%)\n85 (98.84%)\n0 (0%)\n72 (100%)\n0 (0%)\n72 (100%)\n0 (0%)\n95 (98.96%)\n0 (0%)\n95 (98.96%)\n    High\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n0 (0%)\n    Total\n0 (0%)\n85 (98.84%)\n0 (0%)\n85 (98.84%)\n0 (0%)\n72 (100%)\n0 (0%)\n72 (100%)\n0 (0%)\n95 (98.96%)\n0 (0%)\n95 (98.96%)\n  \n  \n    \n      This is a source note."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  }
]